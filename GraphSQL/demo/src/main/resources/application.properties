# 1. Cấu hình Server
server.port=8080

# 2. Cấu hình kết nối MySQL
spring.datasource.url=jdbc:mysql://localhost:3306/graphql_project?createDatabaseIfNotExist=true
# User và Pass của bạn (đã sửa thành root theo cấu hình chạy được gần nhất)
spring.datasource.username=root
spring.datasource.password=Triet1502@
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 3. Cấu hình JPA (QUAN TRỌNG NHẤT)
# 'create': Xóa bảng cũ và tạo lại bảng mới mỗi khi chạy lại app.
# Giúp bạn tránh lỗi "Duplicate entry" khi file data.sql chạy lại nhiều lần.
spring.jpa.hibernate.ddl-auto=create

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# 4. Cấu hình GraphQL
spring.graphql.graphiql.enabled=true

# 5. Cấu hình nạp dữ liệu mẫu (data.sql)
# Đợi Hibernate tạo bảng xong mới chạy data.sql
spring.jpa.defer-datasource-initialization=true
# Luôn chạy script nạp dữ liệu
spring.sql.init.mode=always
# Mã hóa tiếng Việt
spring.sql.init.encoding=UTF-8